<!DOCTYPE html>
<html>
    <head>
        <title>EtherDraw</title>
        <link rel='stylesheet' href='../static/css/style.css'>
        <link rel='stylesheet' href='../static/css/farbtastic.css'>
	<script>
	  /*
	  |@licstart  The following is the entire license notice for the
	  JavaScript code in this page.|

          Copyright 2011 Peter Martischka, Primary Technology.

          Licensed under the Apache License, Version 2.0 (the "License");
          you may not use this file except in compliance with the License.
          You may obtain a copy of the License at

             http://www.apache.org/licenses/LICENSE-2.0

          Unless required by applicable law or agreed to in writing, software
          distributed under the License is distributed on an "AS IS" BASIS,
          WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
          See the License for the specific language governing permissions and
          limitations under the License.

          |@licend  The above is the entire license notice
          for the JavaScript code in this page.|
          */
        </script>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <link rel="shortcut icon" href="../static/img/favicon.ico">

        <script src='../socket.io/socket.io.js'></script>
        <script src='../static/js/lib/jquery.js'></script>
        <script src='../static/js/lib/jquery_browser.js'></script>
        <script src='../static/js/lib/paper.js'></script>
        <script src='../static/js/lib/webtoolkit.base64.js'></script>
        <script src='../static/js/lib/farbtastic.js'></script>
	<script src='../static/js/lib/jquery.pep.min.js'></script>
        <script src='../static/js/draw.js' type="text/paperscript" canvas="myCanvas"></script>
        <script>document.domain = document.domain;</script>
    </head>
    <body>

        <div id="editbar" class="toolbar">
            <div id="overlay">
                <div id="overlay-inner"></div>
            </div>
            <ul class="menu_left">
                <!-- paint brush -->
                <li class="acl-write" id="drawTool" data-key="draw">
                    <a class="grouped-left" data-l10n-id="draw.toolbar.draw.title" title="Paint Brush">
                      <span class="buttonicon buttonicon-draw"></span>
                    </a>
                </li>
                <!-- pencil brush -->
                <li class="acl-write" id="pencilTool" data-key="pencil">
                    <a class="grouped-middle" data-l10n-id="draw.toolbar.pencil.title" title="Pencil Tool">
                      <span class="buttonicon buttonicon-pencil"></span>
                    </a>
                </li>
                <!-- select tool -->
                <li class="acl-write" id="selectTool" data-key="select">
                    <a class="grouped-middle" data-l10n-id="draw.toolbar.select.title" title="Selection Tool">
                      <span class="buttonicon buttonicon-select"></span>
                    </a>
                </li>
    
                <!-- goto to start of canvas -->
                <li class="acl-write" id="textTool" data-key="text">
                    <a class="grouped-middle" data-l10n-id="draw.toolbar.text.title" title="Insert textbox">
                      <span class="buttonicon buttonicon-text"></span>
                    </a>
                </li>

                <!-- color picker toggle -->
                <li class="acl-write" id="colorToggle" data-key="color">
                  <a class="grouped-middle" data-l10n-id="draw.toolbar.colorToggle.title" title="Show Color Picker">
                    <span class="buttonicon buttonicon-color" style="opacity:0.5">
                      <div style="display:inline-block;width:5px; height:16px; background-color:red;margin:0;padding:0;float:left"></div>
                      <div style="display:inline-block;width:5px; height:16px; background-color:blue;margin:0;padding:0;float:left"></div>
                      <div style="display:inline-block;width:5px; height:16px; background-color:green;margin:0;padding:0;float:left"></div>
                    </span>
                  </a>
                </li>
    
                <!-- goto to start of canvas -->
                <li class="acl-write" id="zeroTool" data-key="zero">
                    <a class="grouped-middle" data-l10n-id="draw.toolbar.zero.title" title="Reset Canvas Panning to 0,0">
                      <span class="buttonicon buttonicon-zero"></span>
                    </a>
                </li>
    
                <!-- reset scaling -->
                <li class="acl-write" id="scaleTool" data-key="scale">
                    <a class="grouped-middle" data-l10n-id="draw.toolbar.scale.title" title="Reset Canvas Scaling to 1:1">
                      <span class="buttonicon buttonicon-scale"></span>
                    </a>
                </li>
    
                <!-- zoom to fit -->
                <li class="acl-write" id="fitTool" data-key="fit">
                    <a class="grouped-middle" data-l10n-id="draw.toolbar.fit.title" title="Zoom to fit contents">
                      <span class="buttonicon buttonicon-fit"></span>
                    </a>
                </li>

                <!-- upload -->
                <li class="acl-write" id="uploadImage" data-key="upload">
                    <a class="grouped-right" data-l10n-id="draw.toolbar.upload.title" title="Upload an Image">
                      <span class="buttonicon buttonicon-upload"></span>
                    </a>
                </li>
            </ul>
            <ul class="menu_right">

                <!-- settings -->
                <li data-key="settings">
                    <a id="settingslink" class="grouped-left" data-l10n-id="draw.toolbar.settings.title" title="Clear Drawing">
                        <span class="grouped-left buttonicon buttonicon-settings" style="background-color:transparent;background-image:none;border:dotted 1px black;margin:0;color:#000;height:14px;line-height:14px">X</span>
                    </a>
                </li>
                <!-- import export -->
                <li data-key="import_export">
                    <a id="importExport" class="grouped-middle" data-l10n-id="draw.toolbar.import_export.title" title="Export Drawing">
                        <span class="buttonicon buttonicon-import_export"></span>
                    </a>
                </li>
               <!-- share & embed -->
                <li data-key="embed">
                    <a id="embedlink" class="grouped-middle" data-l10n-id="draw.toolbar.embed.title" title="Show Embed Drawing URL">
                        <span class="buttonicon buttonicon-embed"></span>
                    </a>
                </li>
               <!-- show user manual -->
                <li data-key="manual">
                    <a id="manuallink" class="grouped-right" data-l10n-id="draw.toolbar.manual.title" title="Show User Manual">
                        <span class="grouped-right buttonicon buttonicon-manual" style="background-color:transparent;background-image:none;margin:0;color:#000;height:14px;line-height:18px;font-size: 16px">?</span>
                    </a>
                </li>

                <!-- user stuff -->
                <li class="separator"></li>
                <li id="usericon" data-key="showusers">
                    <a data-l10n-id="draw.toolbar.showusers.title" title="Current Users">
                        <span class="buttonicon buttonicon-showusers"></span>
                        <span id="online_count">1</span>
                    </a>
                </li>
                
            </ul>
        </div>
         <div id="canvasPosition">
          <span id="coordinates">0,0</span> (<span id="zoom">1</span>x)
        </div>

        <div id="settings" class="popup">
            <h1 data-l10n-id="draw.settings.padSettings"></h1>
            <div class="column">
                <h2 data-l10n-id="draw.settings.ClearCanvas">Clear Canvas</h2>
    <a>Warning - This will clear the canvas</a><button id="clearCanvas">Okay, Clear it!</button>
      </div>
        </div>
        <div id="embed" class="popup">
            <h1 data-l10n-id="draw.share">Share & Embed</h1>
            <div id="linkcode">
                <h2 data-l10n-id="draw.share.link">Share</h2>
                <input id="linkinput" type="text" value="">
            </div>
            <br>
            <div id="embedcode">
                <h2 data-l10n-id="draw.share.emebdcode">Embed</h2>
                <input id="embedinput" type="text" value="">
            </div>
            
        </div>
        <div id="settings" class="popup">
            <h1 data-l10n-id="draw.settings.padSettings">Settings</h1>
            <div class="column">

                <h2 data-l10n-id="draw.settings.myView"></h2>
            </div>
        </div>
        <div id="importexport" class="popup">
            <h1 data-l10n-id="draw.importExport.import_export">Export</h1>
            <div class="column">
                <h2 data-l10n-id="draw.importExport.export"></h2>
                <div><a id="exportSVG" target="_blank" class="exportlink">Export SVG</a></div>
                <div><a id="exportPNG" target="_blank" class="exportlink">Export PNG</a></div>
            </div>
        </div>
        <div id="manual" class="popup" style="width: 80%;">
            <h1 data-l10n-id="draw.manual.title">Manual</h1>
            <br>
            <h2 data-l10n-id="draw.manual.overview">Overview</h2>
            <div>This is etherdraw. It allows you to collaboratively draw, sketch and paint in real-time. Everyone you share this link with, will be able to view and participate in the drawing. The available drawing tools are: Brush, Pencil, Select, Text and Upload.</div>
            <br>
            <h2 data-l10n-id="draw.manual.tools.brush">Brush</h2>
            <div>The brush allows you to draw thick lines. The faster you move the cursor while painting, the thicker the line will become. Every drawing action will become a seperately moveable or removeable object. This will be done by the select tool.</div>
            <br>
            <h2 data-l10n-id="draw.manual.tools.pencil">Pencil</h2>
            <div>The pencil allows you to draw fine lines, regardless of the moving speed of the cursor. Every drawing action will become a seperately moveable or removeable object. This will be done by the select tool.</div>
            <br>
            <h2 data-l10n-id="draw.manual.tools.select">Select</h2>
            <div>The select tool allows you to move and remove the lines or text boxes made prior. To move an item you will need to select it by clicking on it. The selected item can be moved by simply dragging and dropping it around the canvas or by using the arrow keys on the keyboard. To delete an item you will press the "Delete" or the "R" key. Additionally you can hold down the mouse after selecting the item and hold it for several seconds until the item is deleted.</div>
            <br>
            <h2 data-l10n-id="draw.manual.tools.textbox">Text box</h2>
            <div>The text box tool allows you to create editable text boxes on the canvas. In order to edit a text box, you will need to select the "text" tool and select the text box in question. To move it around you will do the same with the select tool.</div>
            <br>
            <h2 data-l10n-id="draw.manual.tools.colorpicker">Color picker</h2>
            <div>The color picker is used to set the current color of brush and pencil. Additionally it is able to set the opacity level of current color.</div>
            <br>
            <h2 data-l10n-id="draw.manual.zoomandpan">Zoom and pan</h2>
            <div>Etherdraw allows you to zoom and pan around an infinite canvas. Zooming in or out is done via the mouse wheel or, if you're using a touch screen interface, you will need to "pinch to zoom". To pan you will need to press the mouse wheel or, if you're using a touch screen interface, you will need to use 2 fingers to pan. The button "0.0" will reset the position of the canvas back to the origin. The button "1:1" respectively resets the zoom factor. The button next to it, labeled "Zoom to fit contents" will set zoom and pan so that every element is visible. You will see the current canvas position and zoom factor on the lower right corner.</div>
            <br>
            <h2 data-l10n-id="draw.manual.upload">Upload images</h2>
            <div>Etherdraw allows you to upload JPG or PNG images into the canvas. These images can be moved and removed like lines.</div>
            <br>
            <h2 data-l10n-id="draw.manual.clear">Clearing the drawing</h2>
            <div>The "Clear Drawing" button will remove all elements on the drawing. This cannot be reversed.</div>
            <br>
            <h2 data-l10n-id="draw.manual.clear">Share the Drawing</h2>
            <div>The "Embed Drawing" button shows the current URL to be share or embed it in a webpage.</div> 
        </div>

        <div id="lostConnection" class="hidden">
            <p>Lost connection to the server! Please refresh this page.</p>
        </div>
        <div id="loading" class="hidden" style="display:block;">
            <p>Loading existing sketch... Try to refresh the page, if this message doesn't disappear.</p>
        </div>

        <input type="file" id="imageInput" accept="image/*" />
        <div id="activeColorSwatch"></div>
        <div id="canvasContainer">
          <canvas id="myCanvas" resize="true"></canvas>
          <div id="mycolorpicker">
            <div id="colorpickerMover"></div>
            <div id="colorpicker"></div>
            <div id="opacity">
              <div id="opacityLabel">Opacity</div>
              <input type="range" min="0" max="255" value="200" id="opacityRangeVal">
            </div>
          </div>

        </div>
    </body>
</html>
